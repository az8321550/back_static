
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>数字营销平台</title><link rel="shortcut icon" href="../static/images/favicon.ico">
    <link href="../static/plugins/bootstrap/css/bootstrap.css" rel="stylesheet" />
    <link href="../static/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <link href="../static/plugins/jquery-jqgrid/ui.jqgrid.css" rel="stylesheet" />
    <link href="../static/styles/base.css" rel="stylesheet" />
</head>
<body>
    <div class="sider">
        <div class="home-menu">
            <a href="index.html">
                <i class="icon icon-home"></i>
            </a>
        </div>
        <div class="main-name">
            数字营销平台
        </div>
        <div class="user clearfix">
            <img src="../static/images/header.png" />
            Admin_Super
        </div>
        <ul class="menu">
            <li><a href="list.html">营销活动</a></li>
            <li class="active"><a href="activelist.html">活动任务</a></li>
            <li><a href="typelist.html">业务类型</a></li>
        </ul>
        <ul class="menu set-menu">
            <li><a href="taglist.html">会员中心</a></li>
            <li><a href="waylist.html">渠道中心</a></li>
            <li><a href="tmplactive.html">模板中心</a></li>
        </ul>
    </div>
    <div class="content">
        <div class="clearfix">
            <div class="col-xs-12">
                <div id="list-top">
                    <div class="breadcrumb-con">
                        <ol class="breadcrumb">
                            <li><a href="index.html"><i class="icon icon-home"></i></a></li>
                            <li><a href="#">常规业务</a></li>
                            <li><a href="#">促销活动</a></li>
                            <li class="active">活动明细</li>
                        </ol>
                        <div class="search-con">
                            <form>
                                <input class="text" type="text" placeholder="快速检索" />
                                <button class="button"><i class="icon icon-search"></i></button>
                            </form>
                        </div>
                    </div>
                    <div class="content-title clearfix mb20">
                        <span class="title fontblue">任务明细</span>
                    </div>
                </div>
                <table id="data" class="ui-jqgrid"></table>
                <div id="pager"></div>
            </div>
        </div>

    </div>

    <div id="filter-dialog" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">筛选条件</h4>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label>模糊搜索</label>
                            <input type="text" class="form-control" placeholder="模糊搜索" />
                        </div>
                        <div class="form-group">
                            <label>所在事件</label>
                            <select class="form-control">
                                <option>所在事件</option>
                                <option>所在事件2</option>
                                <option>所在事件3</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>业务类型</label>
                            <select class="form-control">
                                <option>业务类型</option>
                                <option>业务类型2</option>
                                <option>业务类型3</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>创建部门</label>
                            <select class="form-control">
                                <option>创建部门</option>
                                <option>创建部门2</option>
                                <option>创建部门3</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-primary">筛选</button>
                </div>
            </div>
        </div>
    </div>
    <div id="detail-dialog" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">查看发送明细</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" style="display:none;">
                        <div class="form-group">
                            <label class="control-label col-xs-2">发送地址：</label>
                            <div class="col-xs-10">
                                <input type="text" readonly class="form-control" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-2">发送参数：</label>
                            <div class="col-xs-10">
                                <input type="text" readonly class="form-control" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-2">发送内容：</label>
                            <div class="col-xs-10">
                                <textarea readonly class="form-control" rows="8"></textarea>
                            </div>
                        </div>
                    </form>
                    <div id="tmpl-main" style="height:300px;overflow:auto;"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">返回</button>
                </div>
            </div>
        </div>
    </div>
    <script src="../static/plugins/jquery/jquery.js"></script>
    <script src="../static/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script src="../static/plugins/bootstrap-bootbox/bootbox.js"></script>
    <script src="../static/plugins/jquery-mockjax/jquery.mockjax.js"></script>
    <script src="../static/plugins/jquery-jqgrid/jquery.jqGrid.js"></script>
    <script src="../static/scripts/app.js"></script><!--[if lt IE 9]>
    <script src="../static/plugins/respond/respond.min.js"></script>
    <script src="../static/plugins/html5shiv/html5shiv.min.js"></script><![endif]-->
    <script>
        !function () {

            //模拟ajax
            $.mockjax({
                url: "test.php",
                type: "post",
                responseTime: 0,
                responseText: JSON.stringify({ "page": 2, "totalPage": 88, "totalCount": 888, "rows": [{ "id": 0, "cell": [314, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "<a>12312312<a><br><br><br><br><br><br>\r\n    <a>12312312<a><br><br><br><br><br><br>\r\n    <a>12312312<a><br><br><br><br><br><br>\r\n    ", "创建部门", "创建人"] }, { "id": 1, "cell": [371, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 2, "cell": [363, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 3, "cell": [111, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 4, "cell": [179, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 5, "cell": [276, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 6, "cell": [50, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 7, "cell": [310, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 8, "cell": [82, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 9, "cell": [73, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 10, "cell": [162, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 11, "cell": [70, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 12, "cell": [192, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 13, "cell": [73, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 14, "cell": [241, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 15, "cell": [233, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 16, "cell": [50, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 17, "cell": [69, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 18, "cell": [50, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 19, "cell": [93, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 20, "cell": [388, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 21, "cell": [131, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 22, "cell": [391, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 23, "cell": [150, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 24, "cell": [126, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 25, "cell": [166, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 26, "cell": [168, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 27, "cell": [96, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 28, "cell": [371, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 29, "cell": [338, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 30, "cell": [328, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 31, "cell": [383, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 32, "cell": [135, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 33, "cell": [58, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 34, "cell": [353, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 35, "cell": [110, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 36, "cell": [268, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 37, "cell": [131, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 38, "cell": [126, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }, { "id": 39, "cell": [107, "任务名称", "状态", "预计发送量", "执行时间", "类型", "开始日期", "结束日期", "创建部门", "创建人"] }] })
            });

            $("#create-delete").click(function () {
                bootbox.confirm("您确定要删除吗?", function (result) {
                    if (result) {
                        //dosomething
                    }
                });
            });

            //jqGrid配置
            $("#data").jqGrid({
                url: 'test.php',
                datatype: "json",
                mtype: "post",
                multiselect: true,
                multiselectWidth: 30,
                height: $(window).height() - $("#list-top").height() - 88,
                width: $(".content").width() - 30,
                rowNum: 40,
                rowList: [20, 40, 80],
                colNames: ['活动ID', '任务ID', '任务名称', '用户ID', '目标地址', '发送通道', '状态描述', '发送内容', '发送时间', '创建时间'],
                colModel: [
                    { name: "id", sortable: true },
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {
                        formatter: function (cellvalue, options, rowObject) {
                            return $.jgrid.htmlEncode(cellvalue).replace(/\r\n/g, "");
                        }
                    },
                    {},
                    {}
                ],
                pager: "#pager",
                viewrecords: true,
                altRows: true,
                ondblClickRow: function (rowid) {
                    $("#data").setSelection(rowid);
                    $("#detail-dialog").modal("toggle");
                }
            });


        }();
    </script>
</body>
</html>
